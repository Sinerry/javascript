<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>图片切换</title>
		<style>
			* {
				margin: 0;
				padding: 0;
			}
			ul {list-style: none;}
			#xuanxiangka {
				position: relative;
				width:326px;
				height: 580px;
				margin: 50px auto;
				text-align: center;
			}
			#xuanxiangka  ul li {
				display:none;
				position: absolute;
				top:0;
				left:0;
			}
			#xuanxiangka  ul li.current {
				display: block;
			}
			#xuanxiangka .tab {
				position: absolute;
				bottom:0;
				left: 0;
				width:24px;
			}
			#xuanxiangka .tab span {
				display:inline-block;
				width: 24px;
				height: 24px;
				border-bottom: 1px solid #fff;
				line-height:24px;
				background: #666;
				color:#fff;
				cursor: pointer;
			}
			
			#xuanxiangka .tab span.current {
				background: #f00;
			}
			#xuanxiangka .count {
				position: absolute;
				left:0;
				top: 0;
				width:100%;
				height:34px;
				line-height:34px;
				background: rgba(0,0,0,.7);
				color:#fff;
			}
		</style>
	</head>
	<body>
		<div id="xuanxiangka">
			<ul>
				<li class='current'><a href="#"><img src="img/g1.jpg" alt="..." width="326" height="580" /></a></li>
				<li><a href="#"><img src="img/g2.jpg" alt="..." width="326" height="580" /></a></li>
				<li><a href="#"><img src="img/g3.jpg" alt="..." width="326" height="580" /></a></li>
				<li><a href="#"><img src="img/g4.jpg" alt="..." width="326" height="580" /></a></li>
			</ul>
			<div class="tab">
				<span class='current'>1</span>
				<span>2</span>
				<span>3</span>
				<span>4</span>
			</div>
			<div class='count'>
				<span class='order'>1</span>
				<span>/4</span>
			</div>
		</div>
		<script type="text/javascript">
				var  xuanXiangKa =  document.getElementById('xuanxiangka'),
						tab = xuanXiangKa.getElementsByClassName('tab')[0],
						tabList = tab.getElementsByTagName('span'),
						imgList =  xuanXiangKa.getElementsByTagName('li'),
						order = xuanXiangKa.getElementsByClassName('order')[0],
						length = tabList.length,
						index = 0,
						timer;
				for(var i = 0; i < length; i++) {
					tabList[i].chuizi = i;
					tabList[i].onclick = function(){
						tabList[index].className = imgList[index].className = '';
						index = this.chuizi;
						this.className = imgList[index].className = 'current';
						order.innerHTML = index + 1;
					};			
				}
				
				function autoPlay() {
					timer = setInterval(function() {
							tabList[index].className = imgList[index].className = '';
							index++;
							if(index >= length) {index = 0;}
							tabList[index].className = imgList[index].className = 'current';
							order.innerHTML = index + 1;
					},2000);
					return autoPlay;
				}
				xuanXiangKa.onmouseenter = function() {
					clearInterval(timer);
				}
				xuanXiangKa.onmouseleave = autoPlay();
		</script>
	</body>
</html>
